{"version":3,"sources":["bb_passrates/frontend/map.cljs"],"mappings":"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","names":["bb-passrates.frontend.map/set-map","el","js/document","vec__20951","cljs.core.nth","lat-centre","long-centre","js/parseFloat","target-obj-20954","*runtime-state*-orig-val__20958","oops.state/*runtime-state*","*runtime-state*-temp-val__20959","oops.state/prepare-state","js/Error","next-obj-20955","oops.core/validate-object-access-dynamically","next-obj-20956","next-obj-20957","target-obj-20960","*runtime-state*-orig-val__20964","*runtime-state*-temp-val__20965","next-obj-20961","next-obj-20962","next-obj-20963","map","js/L","tile-server","attribution","cljs.core/clj->js","js/Array.from","lat","target-obj-20966","*runtime-state*-orig-val__20970","*runtime-state*-temp-val__20971","next-obj-20967","next-obj-20968","next-obj-20969","long","target-obj-20972","*runtime-state*-orig-val__20976","*runtime-state*-temp-val__20977","next-obj-20973","next-obj-20974","next-obj-20975"],"sourcesContent":["(ns bb-passrates.frontend.map\n  (:require [oops.core :refer [oget]]))\n\n(defn set-map []\n  (let [el (.querySelector js/document \"#map\")]\n    (when el\n      (let [[lat-centre long-centre]\n            [(js/parseFloat (oget el \"attributes.lat.value\"))\n             (js/parseFloat (oget el \"attributes.long.value\"))]\n            map (.setView (.map js/L \"map\") (.latLng  js/L lat-centre long-centre) 13)\n            tile-server \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            attribution \"&copy; <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"]\n        (.addTo (.tileLayer js/L tile-server (clj->js {:attribution attribution})) map)\n        (-> (.querySelectorAll js/document \".school\") js/Array.from\n            (.forEach (fn [el]\n                        (let [lat (oget el \"attributes.lat.value\")\n                              long (oget el \"attributes.long.value\")]\n                          (.addTo (.marker js/L (.latLng  js/L lat long)) map)))))))))\n"]}